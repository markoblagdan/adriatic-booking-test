adriatic-mini-booking-backend:
  type: php:8.2

  web:
    locations:
      "/api":
        root: "public"
        passthru: "/index.php"
        index:
          - index.php
        headers:
          Access-Control-Allow-Origin: "*"
        scripts: true
        # No caching for static files.
        # (Dynamic pages use whatever cache headers are generated by the program.)
        expires: -1
      "/api/*":
        root: "public"
        passthru: "/index.php"
        headers:
          Access-Control-Allow-Origin: "*"
        scripts: true
        expires: -1

  source:
    root: backend

adriatic-mini-booking-frontend:
  type: nodejs:20

  web:
    locations:
      "/":
        root: "frontend/build"
        index:
          - "index.html"
        headers:
          Access-Control-Allow-Origin: "*"
